import { CommonModule } from '@angular/common';
import { moduleMetadata } from '@storybook/angular';
import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { CardIonComponent } from '../projects/ion/src/lib/card/card.component.ts';
import { ButtonComponent } from '../projects/ion/src/lib/button/button.component.ts';
import { ButtonModule } from '../projects/ion/src/lib/button/button.module';

<Meta title="Ion/Data Display/Card" component={CardIonComponent} />

export const Template = (args) => <CardIonComponent {...args} />;
export const TemplateButton = (args) => <ButtonComponent {...args} />;

# Card

O IonCard pode receber 3 parâmetros, sendo eles:

- `header`. Um objeto onde é passado o titulo e os botões de ação do cabeçalho.
- `body`. Receberá o componente para renderizar no body do card.
- `footer`. Um objeto onde é passado os botões de ação do footer ou um componente.

## Header

Neste parâmetro o único atributo obrigatório é o atributo `title`.

<Canvas>
  <Story
    name="Without Buttons"
    args={{
      configuration: {
        header: {
          title: 'Com risco de atraso',
        },
      },
    }}
    decorators={[
      moduleMetadata({
        declarations: [],
        imports: [CommonModule, ButtonModule],
      }),
    ]}
  >
    {Template.bind({})}
  </Story>
</Canvas>

Há também a possibilidade de passar o paramêtro `buttons` para adicionar ações no header do card.

<Canvas>
  <Story
    name="With Buttons"
    args={{
      configuration: {
        header: {
          title: 'Com risco de atraso',
          buttons: [
            {
              type: 'ghost',
              label: '',
              circular: true,
              icon: 'refresh',
              nameAction: 'refresh',
            },
            {
              type: 'ghost',
              label: '',
              circular: true,
              icon: 'trash',
              nameAction: 'trash',
            },
          ],
        },
      },
    }}
    decorators={[
      moduleMetadata({
        declarations: [],
        imports: [CommonModule, ButtonModule],
      }),
    ]}
  >
    {Template.bind({})}
  </Story>
</Canvas>

Assim como a possibilidade de definir um ícone para o título do card, enviando o nome do ion-icon com a chave `icon`.

<Canvas>
  <Story
    name="With Icon Title"
    args={{
      configuration: {
        header: {
          title: 'Card de pesquisa',
          icon: 'search',
        },
      },
    }}
    decorators={[
      moduleMetadata({
        declarations: [],
        imports: [CommonModule, ButtonModule],
      }),
    ]}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Body

No `body` o IonCard recebe um componente a se renderizado.

## Footer

No `footer` o IonCard pode receber um componente ou as configurações de botões padrões. Todos os botões emitem um evento com o nome do seu tipo.

<Canvas>
  <Story
    name="With Footer"
    args={{
      configuration: {
        header: {
          title: 'Com risco de atraso',
        },
        body: TemplateButton,
        footer: {
          buttons: {
            primary: { label: 'Primary' },
            secondary: { label: 'Secondary' },
            ghost: { label: 'Ghost' },
          },
        },
      },
    }}
    decorators={[
      moduleMetadata({
        declarations: [],
        imports: [CommonModule, ButtonModule],
      }),
    ]}
  >
    {Template.bind({})}
  </Story>
</Canvas>
