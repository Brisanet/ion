import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { moduleMetadata } from '@storybook/angular';
import { CommonModule } from '@angular/common';

import { ButtonComponent } from '../projects/ion/src/lib/button/button.component';
import { IonIconComponent } from '../projects/ion/src/lib/icon/icon.component';
import { DropdownComponent } from '../projects/ion/src/lib/dropdown/dropdown.component.ts';
import { BadgeComponent } from './../projects/ion/src/lib/badge/badge.component';

<Meta title="Ion/Buttons/button" component={ButtonComponent} />

# Button

No Ion, o tipo padrão do botão é `primary`. Mas, fornecemos 4 tipos.

- `primary`. Indica a ação principal. Aconselhável usar no máximo um botão principal por seção.
- `secondary`. Indica uma série de ações sem prioridade.
- `ghost`. Usando em situações com fundo de difícil visualização.
- `dashed`. Usado para ações comuns.

<Canvas>
  <Story
    name="type: primary"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary"></ion-button>`,
    }}
  </Story>
  <Story
    name="type: secondary"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary"></ion-button>`,
    }}
  </Story>
  <Story
    name="type: ghost"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost"></ion-button>`,
    }}
  </Story>
  <Story
    name="type: dashed"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed"></ion-button>`,
    }}
  </Story>
</Canvas>

O Ion, Suporta 4 tamanhos padrões para botões. Basta configurar a propriedade `size` com `sm`, `md`, `lg` ou `xl` pequeno, médio, grande ou muito grande, repectivamente. Por padão, a propriede size é configurada com médio, `size = 'md'`.

<Canvas>
  <Story
    name="size: sm"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Small" size="sm"></ion-button>`,
    }}
  </Story>
  <Story
    name="size: md"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Medium"></ion-button>`,
    }}
  </Story>
  <Story
    name="size: lg"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Large" size="lg"></ion-button>`,
    }}
  </Story>
  <Story
    name="type: xl"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Extra-large" size="xl"></ion-button>`,
    }}
  </Story>
</Canvas>

- `ìconType`. Adiciona um ícone referente ao ícone configurado na propriedade. Qualquer tipo diponível no componente de ícone, pode ser configurado no botão.

<Canvas>
  <Story
    name="icontype"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button iconType="pencil" size="sm"></ion-button>`,
    }}
  </Story>
  <Story
    name="icontype in danger"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button iconType="pencil" [danger]="true" size="md"></ion-button>`,
    }}
  </Story>
  <Story
    name="iconetype: trash"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="trash" size="lg"></ion-button>`,
    }}
  </Story>
  <Story
    name="iconetype: trash danger"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="trash" [danger]="true" size="xl"></ion-button>`,
    }}
  </Story>
</Canvas>

- `rightSideIcon`. Posiciona o ícone ao lado direito do texto.

<Canvas>
  <Story
    name="rightSideIcon"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Editar" iconType="pencil" [rightSideIcon]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="rightSideIcon: trash danger"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="trash" [danger]="true" [rightSideIcon]="true"></ion-button>`,
    }}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="with dropdown"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [options]="[{ label: 'option 1' }, {label: 'option 2'}]"></ion-button>`,
    }}
  </Story>
  <Story
    name="with dropdown : multiple choices"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [options]="[{ label: 'option 1' }, {label: 'option 2'}]" multiple="true"></ion-button>`,
    }}
  </Story>
</Canvas>

- `circularButton`. Transforma a bordas do botão em formato de círculo. Apenas o ícone será exibido.

<Canvas>
  <Story
    name="circularButton"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Editar" iconType="pencil" [circularButton]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="circularButton: trash danger"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="trash" [danger]="true" [circularButton]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="circularButton: trash ghost"
    decorators={[
      moduleMetadata({
        declarations: [ButtonComponent, IonIconComponent],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="close" type="ghost" [circularButton]="true"></ion-button>`,
    }}
  </Story>
</Canvas>

E 6 outras propriedades adicionais.

- `label`. Configura o nome que será exibido no botão.

<Canvas>
  <Story
    name="label: name button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Nome do botão"></ion-button>`,
    }}
  </Story>
</Canvas>

- `danger`. Recomendado para ações de risco, como deletar ou autorização. É um boolean e opcional. Por padrão é `[danger] = false`.

<Canvas>
  <Story
    name="danger in primary button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [danger]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="danger in secondary button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary" [danger]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="danger in ghost button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost" [danger]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="danger in dashed button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed" [danger]=true></ion-button>`,
    }}
  </Story>
</Canvas>

- `expand`. Ajusta a largura do botão relativa a largura do elemento pai. É um boolean e opcional. Por padrão é `[expand] = false`.

<Canvas>
  <Story
    name="expand: true"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [expand]=true></ion-button>`,
    }}
  </Story>
</Canvas>

- `disabled`. Indica que as ações não estão disponíveis. É um boolean e opcional. Por padrão é `[disabled] = false`.

<Canvas>
  <Story
    name="disabled in primary button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [disabled]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="disabled in secondary button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary" [disabled]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="disabled in ghost button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost" [disabled]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="disabled in dashed button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed" [disabled]=true></ion-button>`,
    }}
  </Story>
</Canvas>

- `loading`. Indica que o botão não está preparado para disparar a ação. Como por exemplo, esperando uma resposta do servidor ou preparando e/ou processando algum recurso interno. O evento de clique do botão é desativado quando o loading está ativo. É um boolean e opcional. Por padrão é `[loading] = false`.

<Canvas>
  <Story
    name="Loading in primary button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in secondary button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in ghost button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in dashed button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in primary danger"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [danger]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in primary disabled button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [disabled]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in secondary disabled button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary" [disabled]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in ghost disabled button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost" [disabled]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in dashed disabled button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed" [disabled]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in secondary danger disabled button"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" type="secondary" [danger]="true" [disabled]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
</Canvas>

Ainda é possível configurar uma mensagem ser exibida no loading, caso não deseje a mensagem padrão 'Carregando...'. Basta configurar uma mensagem no `loadingMessage`.

<Canvas>
  <Story
    name="Loading message default"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button [loading]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading message"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button [loading]=true loadingMessage="Aguarde..."></ion-button>`,
    }}
  </Story>
</Canvas>

- `ionOnClick`. Emite um evento ao clicar no botão. Basta criar uma função no arquivo.ts e repassá-la no arquivo.html.

<Canvas>
  <Story
    name="ionOnClick"
    decorators={[
      moduleMetadata({
        declarations: [
          ButtonComponent,
          IonIconComponent,
          DropdownComponent,
          BadgeComponent,
        ],
        imports: [CommonModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" (ionOnClick)="passAFunctionHere()"></ion-button>`,
    }}
  </Story>
</Canvas>
