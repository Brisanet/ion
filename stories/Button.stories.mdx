import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { moduleMetadata } from '@storybook/angular';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { IonButtonComponent } from '../projects/ion/src/lib/button/button.component';
import {
  IonSharedModule,
  IonSkeletonModule,
} from '../projects/ion/src/public-api';

<Meta title="Ion/Navigation/Button" component={IonButtonComponent} />

# Button

No Ion, o tipo padrão do botão é `primary`. Mas, fornecemos 4 tipos.

- `primary`. Indica a ação principal. Aconselhável usar no máximo um botão principal por seção.
- `secondary`. Indica uma série de ações sem prioridade.
- `ghost`. Usando em situações com fundo de difícil visualização.
- `dashed`. Usado para ações comuns.

<Canvas>
  <Story
    name="type: primary"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary"></ion-button>`,
    }}
  </Story>
  <Story
    name="type: secondary"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary"></ion-button>`,
    }}
  </Story>
  <Story
    name="type: secondary with icon"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary" iconType="left3"></ion-button>`,
    }}
  </Story>
  <Story
    name="type: ghost"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost"></ion-button>`,
    }}
  </Story>
  <Story
    name="type: dashed"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed"></ion-button>`,
    }}
  </Story>
</Canvas>

O Ion, Suporta 4 tamanhos padrões para botões. Basta configurar a propriedade `size` com `sm`, `md`, `lg` ou `xl` pequeno, médio, grande ou muito grande, repectivamente. Por padão, a propriede size é configurada com médio, `size = 'md'`.

<Canvas>
  <Story
    name="size: sm"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Small" size="sm"></ion-button>`,
    }}
  </Story>
  <Story
    name="size: md"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Medium"></ion-button>`,
    }}
  </Story>
  <Story
    name="size: lg"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Large" size="lg"></ion-button>`,
    }}
  </Story>
  <Story
    name="type: xl"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Extra-large" size="xl"></ion-button>`,
    }}
  </Story>
</Canvas>

- `ìconType`. Adiciona um ícone referente ao ícone configurado na propriedade. Qualquer tipo diponível no componente de ícone, pode ser configurado no botão.

<Canvas>
  <Story
    name="icontype"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button iconType="pencil" tooltip="pencil" size="sm"></ion-button>`,
    }}
  </Story>
  <Story
    name="icontype in danger"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button iconType="pencil" [danger]="true" tooltip="danger pencil" size="md"></ion-button>`,
    }}
  </Story>
  <Story
    name="icontype: trash"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="trash" size="lg"></ion-button>`,
    }}
  </Story>
  <Story
    name="icontype: loading"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="" iconType="pencil" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="icontype: loading with label"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Editar" iconType="pencil" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="icontype: loading with custom loading message"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Editar" iconType="pencil" [loading]="true" loadingMessage="I'm loading"></ion-button>`,
    }}
  </Story>
  <Story
    name="iconetype: trash danger"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="trash" [danger]="true" size="xl"></ion-button>`,
    }}
  </Story>
</Canvas>

- `rightSideIcon`. Posiciona o ícone ao lado direito do texto.

<Canvas>
  <Story
    name="rightSideIcon"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Editar" iconType="pencil" [rightSideIcon]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="rightSideIcon: trash danger"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="trash" [danger]="true" [rightSideIcon]="true"></ion-button>`,
    }}
  </Story>
</Canvas>

- `options`. Habilita o dropdown no IonButton.
- `dropdownConfig`. Possibilita configurar o dropdown, ao repassar as propriedades `required`, `notShowClearButton` e `description`.

<Canvas>
  <Story
    name="with dropdown"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [options]="[{ label: 'option 1' }, {label: 'option 2'}]"></ion-button>`,
    }}
    secondary
  </Story>
  <Story
    name="with dropdown: required"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [options]="[{ label: 'option 1' }, {label: 'option 2'}]" [dropdownConfig]="{required: true}"></ion-button>`,
    }}
    secondary
  </Story>
  <Story
    name="with dropdown: multiple choices"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [options]="[{ label: 'option 1' }, {label: 'option 2'}]" multiple="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="with dropdown: circular button with multiple choices"
    decorators={[moduleMetadata({ imports: [CommonModule, IonSharedModule] })]}
  >
    {{
      template: `
        <ion-button
          type="ghost"
          iconType="config"
          [options]="[
            { label: 'Ocioso', icon: 'clock-stopwatch' },
            { label: 'Em deslocamento', icon: 'motorcycle' },
            { label: 'Trabalhando', icon: 'working' }
          ]"
          [dropdownConfig]="{
            notShowClearButton: true,
            description: 'Status para acompanhar'
          }"
          [circularButton]="true"
          [multiple]="true"
        ></ion-button>
      `,
    }}
  </Story>
  <Story
    name="with dropdown with title"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [options]="[{ label: 'option 1' }, {label: 'option 2'}]" [dropdownConfig]="{description: 'Example Title'}"></ion-button>`,
    }}
    secondary
  </Story>
  <Story
    name="with dropdown: loading"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" rightSideIcon="true" loading="true" [options]="[{ label: 'option 1' }, {label: 'option 2'}]"></ion-button>`,
    }}
    secondary
  </Story>
</Canvas>

- `enableSearch`. Adiciona um campo de busca no dropdown para realizar uma busca nas opções.

<Canvas>
  <Story
    name="with search dropdown"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule, FormsModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [dropdownConfig]="{enableSearch: true}" [options]="[{ label: 'option 1' }, {label: 'option 2'}]"></ion-button>`,
    }}
    secondary
  </Story>
</Canvas>

- `showDropdownAbove`. Abre dropdown na direção acima do botão.

<Canvas>
  <Story
    name="with dropdown above button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule, IonSkeletonModule],
      }),
    ]}
  >
    {{
      template: `
      <ion-skeleton
        variant="rect"
        [radius]="NaN"
        [width]="200"
        [height]="500"
      ></ion-skeleton>
      <ion-button label="Primary" [showDropdownAbove]= "true"  [options]="[{ label: 'option 1' }, {label: 'option 2'}]"></ion-button>
      `,
    }}
    secondary
  </Story>
</Canvas>

- `circularButton`. Transforma a bordas do botão em formato de círculo. Apenas o ícone será exibido.

<Canvas>
  <Story
    name="circularButton"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Editar" iconType="pencil" tooltip="pencil" [circularButton]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="circularButton: trash danger"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="trash" tooltip="trash" [danger]="true" [circularButton]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="circularButton: trash ghost"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Deletar" iconType="close" type="ghost" [circularButton]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="circularButton: loading state"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Editar" iconType="pencil" [circularButton]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
</Canvas>

E 6 outras propriedades adicionais.

- `label`. Configura o nome que será exibido no botão.

<Canvas>
  <Story
    name="label: name button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Nome do botão"></ion-button>`,
    }}
  </Story>
</Canvas>

- `danger`. Recomendado para ações de risco, como deletar ou autorização. É um boolean e opcional. Por padrão é `[danger] = false`.

<Canvas>
  <Story
    name="danger in primary button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [danger]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="danger in secondary button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary" [danger]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="danger in ghost button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost" [danger]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="danger in dashed button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed" [danger]=true></ion-button>`,
    }}
  </Story>
</Canvas>

- `expand`. Ajusta a largura do botão relativa a largura do elemento pai. É um boolean e opcional. Por padrão é `[expand] = false`.

<Canvas>
  <Story
    name="expand: true"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [expand]=true></ion-button>`,
    }}
  </Story>
</Canvas>

- `disabled`. Indica que as ações não estão disponíveis. É um boolean e opcional. Por padrão é `[disabled] = false`.

<Canvas>
  <Story
    name="disabled in primary button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [disabled]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="disabled in secondary button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary" [disabled]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="disabled in ghost button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost" [disabled]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="disabled in ghost danger icon button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost" [danger]="true" iconType="close" [disabled]=true></ion-button>`,
    }}
  </Story>
  <Story
    name="disabled in dashed button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed" [disabled]=true></ion-button>`,
    }}
  </Story>
</Canvas>

- `loading`. Indica que o botão não está preparado para disparar a ação. Como por exemplo, esperando uma resposta do servidor ou preparando e/ou processando algum recurso interno. O evento de clique do botão é desativado quando o loading está ativo. É um boolean e opcional. Por padrão é `[loading] = false`.

<Canvas>
  <Story
    name="Loading in primary button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in secondary button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in ghost button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in dashed button"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in primary danger"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [danger]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in secondary danger"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Secondary" type="secondary" [danger]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in ghost danger"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Ghost" type="ghost" [danger]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading in dashed danger"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Dashed" type="dashed" [danger]="true" [loading]="true"></ion-button>`,
    }}
  </Story>
  <Story
    name="Loading with custom message"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" [loading]="true" loadingMessage="I'm loading"></ion-button>`,
    }}
  </Story>
</Canvas>

- `ionOnClick`. Emite um evento ao clicar no botão. Basta criar uma função no arquivo.ts e repassá-la no arquivo.html.

<Canvas>
  <Story
    name="ionOnClick"
    decorators={[
      moduleMetadata({
        imports: [CommonModule, IonSharedModule],
      }),
    ]}
  >
    {{
      template: `<ion-button label="Primary" (ionOnClick)="passAFunctionHere()"></ion-button>`,
    }}
  </Story>
</Canvas>
