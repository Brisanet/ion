<button
  data-testid="ion-chip"
  [id]="chipId"
  (click)="select()"
  [disabled]="disabled"
  [ngClass]="{
    chip: !selected,
    'chip-selected': selected
  }"
  [class]="'chip-' + size"
>
  <ion-icon
    [attr.data-testid]="'chip-icon-' + iconPosition"
    [attr.class]="'icon-color chip-icon-' + iconPosition"
    *ngIf="
      (!options && icon) ||
      (options &&
        dropdownWithIcon &&
        iconPlaceholder &&
        iconPosition === 'left')
    "
    [type]="dropdownWithIcon ? iconPlaceholder : icon"
    [size]="size === 'sm' ? 16 : 20"
  >
  </ion-icon>

  <ion-badge
    [value]="badge.value"
    type="primary"
    *ngIf="badge.value > 0 && multiple"
    data-testid="badge-multiple"
  ></ion-badge>

  <div data-testid="ion-chip-label" class="container-icon-text">
    {{ placeholder }}
  </div>

  <ion-badge
    class="ionBadge"
    *ngIf="rightBadge"
    [label]="rightBadge.label"
    [type]="rightBadge.type"
  ></ion-badge>

  <ion-info-badge
    *ngIf="infoBadge"
    class="infoBadge"
    [variant]="infoBadge"
    size="md"
  ></ion-info-badge>

  <ion-icon
    data-testid="icon-default"
    class="icon-color"
    *ngIf="options"
    [type]="showDropdown ? 'semi-up' : 'semi-down'"
    [size]="size === 'sm' ? 16 : 20"
  >
  </ion-icon>
</button>
<div *ngIf="showDropdown" class="ion-chip-dropdown" [id]="dropdownId">
  <ion-dropdown
    [options]="options"
    [multiple]="multiple"
    [required]="required"
    [enableSearch]="dropdownSearchConfig?.enableSearch || false"
    [searchOptions]="dropdownSearchConfig?.searchOptions"
    (searchChange)="dropdownSearchChange($event)"
    (selected)="selectDropdownItem($event)"
    (clearBadgeValue)="clearBadgeValue()"
    (closeDropdown)="closeDropdown()"
  ></ion-dropdown>
</div>
