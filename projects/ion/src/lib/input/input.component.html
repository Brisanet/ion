<div
  class="input-container"
  [class.input-button]="inputButton && inputButtonConfig"
>
  <div
    data-testid="input-div"
    class="input"
    [class.disabled]="disabled"
    [class.invalid]="invalid"
    [class.valid]="valid"
  >
    <ion-icon
      data-testid="icon-left"
      *ngIf="iconDirection === 'left'"
      [type]="iconInput"
      size="20"
    ></ion-icon>
    <input
      #input
      [type]="inputType"
      [attr.placeholder]="placeholder"
      class="my-input"
      [disabled]="disabled"
      [(ngModel)]="value"
      (ngModelChange)="onChange($event)"
      data-testid="input-element"
      [readonly]="readonly"
      [maxlength]="maxLength"
    />

    <ion-icon
      data-testid="icon-right"
      *ngIf="!isClearButtonVisible() && iconDirection === 'right'"
      [type]="iconInput"
      size="20"
    >
    </ion-icon>
    <ion-icon
      data-testid="icon-valid"
      class="colorValid"
      *ngIf="valid"
      type="check-solid"
      size="16"
    >
    </ion-icon>
    <ion-icon
      data-testid="icon-invalid"
      class="colorInvalid"
      *ngIf="invalid"
      type="close-solid"
      size="16"
    >
    </ion-icon>
    <button
      *ngIf="isClearButtonVisible()"
      data-testid="clear-button"
      class="clearButton"
      (click)="clearInput(); input.value = ''"
    >
      <ion-icon type="close-rounded" size="18"></ion-icon>
    </button>
  </div>

  <ion-button
    *ngIf="inputButton && inputButtonConfig"
    data-testid="input-button"
    [label]="inputButtonConfig.label"
    [type]="inputButtonConfig.type"
    [disabled]="inputButtonConfig.disabled"
    [loading]="inputButtonConfig.loading"
    [iconType]="inputButtonConfig.iconType"
    [id]="inputButtonConfig.id"
    [size]="inputButtonConfig.size"
    (ionOnClick)="handleClick()"
  ></ion-button>
</div>

<div class="errorMsg" *ngIf="invalid && errorMsg">
  <p>{{ errorMsg }}</p>
</div>
