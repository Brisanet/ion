@if (isOpen()) {
  <div class="ion-drawer-backdrop" (click)="close()" (keydown.escape)="close()" tabindex="-1"></div>
}

<div [class]="drawerClasses()">
  <header class="ion-drawer-header">
    @if (title()) {
      <div class="ion-drawer-title">
        @if (iconTitle()) {
          <ion-icon
            [type]="iconTitle()!"
            [size]="24"
          ></ion-icon>
        }
        <span>{{ title() }}</span>
      </div>
    } @else {
      <div class="ion-drawer-spacer"></div>
    }
    <ion-button
      label="Fechar"
      iconType="close"
      type="ghost"
      [circularButton]="true"
      data-testid="close-icon"
      (ionOnClick)="close()"
    />
  </header>

  <main class="ion-drawer-body">
    <ng-content />
  </main>

  <ion-card-footer *ngIf="submitButton() || cancelButton()">
    <div class="ion-drawer-footer">
      @if (secondaryButton()) {
        <ion-button
          [label]="secondaryButton()?.label"
          type="secondary"
          [iconType]="secondaryButton()?.iconType || ''"
          [rightSideIcon]="secondaryButton()?.rightSideIcon || false"
          (ionOnClick)="secondary()" />
      }
      <div class="ion-drawer-footer-actions">
        @if (cancelButton()) {
          <ion-button
            [label]="cancelButton()?.label"
            type="secondary"
            (ionOnClick)="close()" />
        }
        @if (submitButton()) {
          <ion-button
            [label]="submitButton()?.label"
            (ionOnClick)="submit()"
            [loading]="!!submitButton()?.loading" />
        }

      </div>
    </div>
  </ion-card-footer>
</div>
