<div
  [ngClass]="
    ionStepCustomClass +
    ' ion-tour-popover ion-tour-popover--' +
    ionStepPosition
  "
  data-testid="ion-tour-popover"
  [style.top]="top + 'px'"
  [style.left]="left + 'px'"
>
  <ion-button
    id="tour-popover__close-button"
    size="sm"
    type="ghost"
    class="ion-tour-popover__close-button"
    circularButton="true"
    iconType="close"
    (ionOnClick)="finish()"
  >
  </ion-button>

  <main class="ion-tour-popover__body">
    <strong
      *ngIf="ionStepTitle"
      class="ion-tour-popover__title"
      data-testid="ion-tour-popover-title"
    >
      {{ ionStepTitle }}
    </strong>

    <div
      *ngIf="isString(ionStepContent); else contentTemplate"
      class="ion-tour-popover__text-content"
      data-testid="ion-tour-popover-content"
    >
      {{ ionStepContent }}
    </div>

    <ng-template #contentTemplate>
      <ng-container *ngTemplateOutlet="ionStepContent"></ng-container>
    </ng-template>
  </main>

  <footer class="ion-tour-popover__actions">
    <ion-button
      *ngIf="ionPrevStepId"
      data-testid="tour-popover__prev-button"
      [label]="ionStepPrevBtnTitle"
      type="secondary"
      size="sm"
      (ionOnClick)="prev()"
    >
    </ion-button>
    <ion-button
      *ngIf="ionNextStepId; else finishButton"
      data-testid="tour-popover__next-button"
      size="sm"
      [label]="ionStepNextBtnTitle"
      (ionOnClick)="next()"
    >
    </ion-button>

    <ng-template #finishButton>
      <ion-button
        size="sm"
        data-testid="tour-popover__finish-button"
        [label]="ionStepFinishBtnTitle"
        (ionOnClick)="finish()"
      >
      </ion-button>
    </ng-template>
  </footer>
</div>
