<section class="steps" data-testid="ion-step">
  <div
    class="step-container"
    [class.clickable]="
      clickable && step.status !== 'selected' && step.status !== 'error'
    "
    *ngFor="let step of steps; let index = index"
    (click)="goesTo(step.index)"
  >
    <div [class]="disabled ? 'step disabled' : 'step theme-' + theme">
      <div
        class="cross"
        [class.bolded]="this.beforeStepIsChecked(index)"
        *ngIf="crossVisibility('initial', step)"
      ></div>

      <div
        [class]="'step-circle ' + step.status"
        [attr.data-testid]="'step-' + step.index + '-' + step.status"
      >
        <span *ngIf="step.status !== 'checked'">
          {{ step.index }}
        </span>
        <span *ngIf="step.status === 'checked'">
          <ion-icon data-testid="check-icon" type="check" size="24"></ion-icon>
        </span>
      </div>

      <div
        class="cross"
        [class.bolded]="this.afterStepIsChecked(index)"
        *ngIf="crossVisibility('final', step)"
      ></div>
    </div>

    <div
      class="label"
      [class.selected]="step.status === 'selected' || step.status === 'error'"
      [class.disabled]="disabled"
    >
      {{ step.label }}
    </div>

    <div
      class="description"
      [class.disabled]="disabled"
      [attr.data-testid]="'description-' + step.index"
      *ngIf="step.description"
    >
      {{ step.description }}
    </div>
  </div>
</section>
