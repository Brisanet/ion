<div class="container-controls">
  <div class="container-buttons">
    <ion-button
      data-testid="btn-previous-year"
      type="ghost"
      iconType="left3"
      [circularButton]="true"
      ionTooltip
      ionTooltipTitle="Ano anterior"
      ionTooltipPosition="bottomCenter"
      (ionOnClick)="handlePreviousYear()"
    ></ion-button>
    <ion-button
      data-testid="btn-previous-month"
      iconType="left2"
      [circularButton]="true"
      type="ghost"
      ionTooltip
      ionTooltipTitle="Mês anterior"
      ionTooltipPosition="bottomCenter"
      (ionOnClick)="handlePreviousMonth()"
    ></ion-button>
  </div>
  <div class="container-labels">
    <label
      data-testid="label-month"
      ionTooltip
      ionTooltipTitle="Alterar mês"
      ionTooltipPosition="bottomCenter"
      (click)="setVisibleContainerToChooseMonth(true)"
    >
      {{ month || '' }}
    </label>
    -
    <label
      data-testid="label-year"
      ionTooltip
      ionTooltipTitle="Alterar ano"
      ionTooltipPosition="bottomCenter"
      (click)="setVisibleContainerToChooseYear(true)"
    >
      {{ year || '' }}
    </label>
  </div>
  <div class="container-buttons">
    <ion-button
      data-testid="btn-next-month"
      iconType="right2"
      [circularButton]="true"
      type="ghost"
      ionTooltip
      ionTooltipTitle="Próximo mês"
      ionTooltipPosition="bottomCenter"
      (ionOnClick)="handleNextMonth()"
    ></ion-button>
    <ion-button
      data-testid="btn-next-year"
      type="ghost"
      iconType="right3"
      [circularButton]="true"
      ionTooltip
      ionTooltipTitle="Próximo ano"
      ionTooltipPosition="bottomCenter"
      (ionOnClick)="handleNextYear()"
    ></ion-button>
  </div>
</div>

<ng-container *ngIf="showContainerToChooseMonth">
  <div class="container-choose-month">
    <ion-button
      *ngFor="let month of months; let i = index"
      [label]="month"
      type="dashed"
      (ionOnClick)="handleChangeMonth(i)"
      [attr.data-testid]="'btn-month-' + i"
    ></ion-button>
  </div>
</ng-container>

<ng-container *ngIf="showContainerToChooseYear">
  <div class="container-choose-year">
    <div class="header">
      <ion-button
        data-testid="btn-show-previous-years"
        type="ghost"
        iconType="left3"
        [circularButton]="true"
        ionTooltip
        ionTooltipTitle="Anos anteriores"
        ionTooltipPosition="bottomCenter"
        (ionOnClick)="handleShowPreviousYears()"
      ></ion-button>
      <span>{{ rangeYear[0] }} - {{ rangeYear[rangeYear.length - 1] }}</span>
      <ion-button
        data-testid="btn-show-next-years"
        type="ghost"
        iconType="right3"
        [circularButton]="true"
        ionTooltip
        ionTooltipTitle="Próximos anos"
        ionTooltipPosition="bottomCenter"
        (ionOnClick)="handleShowNextYears()"
      ></ion-button>
    </div>
    <ion-divider></ion-divider>
    <div class="content">
      <ion-button
        *ngFor="let year of rangeYear; let i = index"
        [label]="year"
        type="dashed"
        (ionOnClick)="handleChangeYear(year)"
        [attr.data-testid]="'btn-year-' + year"
      ></ion-button>
    </div>
  </div>
</ng-container>
